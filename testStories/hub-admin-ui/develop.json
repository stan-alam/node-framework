{
    "id" : "1497",
    "name" : "Navigation between Queue and Archive",
    "testCases" : [
      {
        "testCaseId": 1,
        "name" : "Queued Messages and Archived Messages Tabs on Dashboard",
        "steps": [
          {
            "id": 1,
            "method": "viewMessageHistory",
            "type": "hub-admin-ui",
            "params": {
              "action": "urllocation",
              "location": "/#/dashboard"
            }
          },
          {
            "id": 2,
            "method": "viewMessageHistory",
            "type": "hub-admin-ui",
            "params": {
                "action": "click",
                "element": "publishedMessages"
            }
          }
        ],
        "validation": [
          {
            "name": "Queue Tab Visible on UI",
            "action": "elementView",
            "type": "hub-admin-ui",
            "element": "tabQueueHtml",
            "test": {
              "action": "contains",
              "value": "Queued"
            }
          },{
            "name": "Archive Tab Visible on UI",
            "action": "elementView",
            "type": "hub-admin-ui",
            "element": "tabArchiveHtml",
            "test": {
              "action": "contains",
              "value": "Archive"
            }
          }
        ]
      },
      {
        "testCaseId": 2,
        "name": "Setup Pub and Sub Applications",
        "steps": [
          {
            "id": 1,
            "method": "deleteApplications",
            "type": "hub-configuration-api",
            "params": {
              "action": "deleteApplications",
              "applications": ["applicationPub", "applicationSub"]
            }
          },
          {
            "id": 2,
            "method": "addApplications",
            "type": "hub-configuration-api",
            "params": {
              "action": "createApplications",
              "applications": ["applicationPub", "applicationSub"]
            }
          },
          {
            "id": 3,
            "method": "appPublisher",
            "type": "hub-configuration-api",
            "params": {
              "action": "addResource",
              "application": "applicationPub",
              "resources": "subjects"
            }
          },
          {
            "id": 4,
            "method": "addSubscriber",
            "type": "hub-configuration-api",
            "params": {
              "action": "addSubscription",
              "application": "applicationSub",
              "subscriptions": "subjects"
            }
          }
        ],
        "validation":[]
      },
      {
        "testCaseId": 3,
        "name": "Push Messages into Hub",
        "steps": [
          {
            "id": 1,
            "method": "sendChangeNotifications",
            "type": "hub-publish-api",
            "params": {
              "action": "sendChangeNotifications",
              "messageCount": 50,
              "application": "applicationPub",
              "resource": "subjects"
            }
          }
        ],
        "validation": []
      },
      {
        "testCaseId": 4,
        "name": "Consume Messages from Hub",
        "steps": [
          {
            "id": 1,
            "method": "consumeChangeNotifications",
            "type": "hub-message-queue-service",
            "params": {
              "action": "consumeChangeNotifications",
              "messageCounts": [10, 10, 0, 0, 0 ],
              "application": "applicationSub"
            }
          }
        ],
        "validation": []
      },
      {
        "testCaseId": 5,
        "name": "Validate Messages are displaying in Queue Tab",
        "steps": [
          {
            "id": 1,
            "method": "viewMessageHistory",
            "type": "hub-admin-ui",
            "params": {
              "action": "urllocation",
              "location": "/#/dashboard"
            }
          },
          {
            "id": 2,
            "method": "viewMessageHistory",
            "type": "hub-admin-ui",
            "params": {
              "action": "click",
              "element": "publishedMessages"
            }
          }
        ],
        "validation": [
          {
            "name": "Queue Tab Visible on UI",
            "action": "elementView",
            "type": "hub-admin-ui",
            "element": "historyRowOneStatus",
            "test": {
              "action": "equal",
              "operator": "or",
              "value": ["waiting","retrieved"]
            }
          }
        ]
      },
      {
        "testCaseId": 6,
        "name": "Validate Messages are displaying in Archive Tab",
        "steps": [
          {
            "id": 1,
            "method": "viewMessageHistory",
            "type": "hub-admin-ui",
            "params": {
              "action": "urllocation",
              "location": "/#/dashboard"
            }
          },
          {
            "id": 2,
            "method": "viewMessageHistory",
            "type": "hub-admin-ui",
            "params": {
              "action": "click",
              "element": "publishedMessages"
            }
          },
          {
            "id": 3,
            "method": "viewArchiveTable",
            "type": "hub-admin-ui",
            "params": {
              "action": "click",
              "element": "tabArchiveHtml"
            }
          },
          {
            "id": 4,
            "method": "viewArchiveTable",
            "type": "hub-admin-ui",
            "params": {
              "action": "click",
              "element": "tabArchiveHtml"

            }
          }
        ],
        "validation": [
          {
            "name": "Queue Tab Visible on UI",
            "action": "elementView",
            "type": "hub-admin-ui",
            "element": "archiveHistoryRowOneStatus",
            "test": {
              "action": "equal",
              "operator": "or",
              "value": ["confirmed","unconfirmed"]
            }
          }
        ]
      },
      {
        "testCaseId": 7,
        "name": "Aggregate Stats Waiting Navigation",
        "steps": [
          {
            "id": 1,
            "method": "viewMessageHistory",
            "type": "hub-admin-ui",
            "params": {
              "action": "urllocation",
              "location": "/#/dashboard"
            }
          },
          {
            "id": 2,
            "method": "viewMessageHistory",
            "type": "hub-admin-ui",
            "params": {
              "action": "click",
              "element": "firstRow",
              "elementTemplate": "Waiting"
            }
          }
        ],
        "validation": [
          {
            "name": "Queue Tab Visible on UI",
            "action": "elementView",
            "type": "hub-admin-ui",
            "element": "filterHistoryRowOneStatus",
            "elementTemplate": "WAITING",
            "test": {
              "action": "equal",
              "caseSensitive": false,
              "value": "waiting"
            }
          }
        ]
      },
      {
        "testCaseId": 8,
        "name": "Aggregate Stats Retrieved Navigation",
        "steps": [
          {
            "id": 1,
            "method": "viewMessageHistory",
            "type": "hub-admin-ui",
            "params": {
              "action": "urllocation",
              "location": "/#/dashboard"
            }
          },
          {
            "id": 2,
            "method": "viewMessageHistory",
            "type": "hub-admin-ui",
            "params": {
              "action": "click",
              "element": "firstRow",
              "elementTemplate": "Retrieved"
            }
          }
        ],
        "validation": [
          {
            "name": "Queue Tab Visible on UI",
            "action": "elementView",
            "type": "hub-admin-ui",
            "element": "filterHistoryRowOneStatus",
            "elementTemplate": "RETRIEVED",
            "test": {
              "action": "equal",
              "caseSensitive": false,
              "value": "retrieved"
            }
          }
        ]
      },
      {
        "testCaseId": 9,
        "name": "Aggregate Stats Confirmed Navigation",
        "steps": [
          {
            "id": 1,
            "method": "viewMessageHistory",
            "type": "hub-admin-ui",
            "params": {
              "action": "urllocation",
              "location": "/#/dashboard"
            }
          },
          {
            "id": 2,
            "method": "viewMessageHistory",
            "type": "hub-admin-ui",
            "params": {
              "action": "click",
              "element": "firstRow",
              "elementTemplate": "Confirmed"
            }
          },
          {
            "id": 3,
            "method": "viewArchiveTable",
            "type": "hub-admin-ui",
            "params": {
              "action": "click",
              "element": "tabArchiveHtml"
            }
          }
        ],
        "validation": [
          {
            "name": "Queue Tab Visible on UI",
            "action": "elementView",
            "type": "hub-admin-ui",
            "element": "filterHistoryRowOneStatus",
            "elementTemplate": "CONFIRMED",
            "test": {
              "action": "equal",
              "caseSensitive": false,
              "value": "confirmed"
            }
          }
        ]
      },
      {
        "testCaseId": 10,
        "name": "Aggregate Stats Unconfirmed Navigation",
        "steps": [
          {
            "id": 1,
            "method": "viewMessageHistory",
            "type": "hub-admin-ui",
            "params": {
              "action": "urllocation",
              "location": "/#/dashboard"
            }
          },
          {
            "id": 2,
            "method": "viewMessageHistory",
            "type": "hub-admin-ui",
            "params": {
              "action": "click",
              "element": "firstRow",
              "elementTemplate": "Unconfirmed"
            }
          },
          {
            "id": 3,
            "method": "viewArchiveTable",
            "type": "hub-admin-ui",
            "params": {
              "action": "click",
              "element": "tabArchiveHtml"
            }
          }
        ],
        "validation": [
          {
            "name": "Queue Tab Visible on UI",
            "action": "elementView",
            "type": "hub-admin-ui",
            "element": "filterHistoryRowOneStatus",
            "elementTemplate": "UNCONFIRMED",
            "test": {
              "action": "equal",
              "caseSensitive": false,
              "value": "unconfirmed"
            }
          }
        ]
      }
    ]
}