{
    "id" : "1780",
    "name" : "Proxy Testcases Covered",
    "testCases" : [
      {
        "testCaseId": "PRX-TC01",
        "name" : "Make Proxy POST Call",
        "steps": [
         {
            "id": 1,
            "type": "hub-proxy-api",
            "params": {
              "action": "getAccessToken",
              "sharedData": {
                  "key": "APIKey",
                  "sharelocation": {
                  "step": "preSetup",
                  "value": "integration.record2.apiKey"
                  }
               }
            }
          },       
          {
            "id": 2,
            "type": "hub-proxy-api",
            "params": {
              "action": "post",
              "urlpath":""
             },
            "tests":[
              {
                "action": "equal",
                "value": 200
              }

            ]
          }
        ]
      },
      {
        "testCaseId": "PRX-TC02",
        "name" : "Make Proxy GET Call",
        "steps": [
          {
            "id": 1,
            "type": "hub-proxy-api",
            "params": {
              "action": "getMany",
              "resource":"subjects"
             },
            "tests":[
              {
                "action": "equal",
                "value": 200,
                "location":"statusCode"
              },
               {
                "action": "include",
                "value": "id",
                "location":"body"
              }
            ]
          }
        ]
      },
      {
        "testCaseId": "PRX-TC03",
        "name" : "Make Proxy PUT Call",
        "steps": [
          {
            "id": 1,
            "type": "hub-proxy-api",
            "params": {
              "action": "put",
              "contentType":"application/vnd.hedtech.applications.v2+json"
             },
            "tests":[
              {
                "action": "equal",
                "value": 200,
                "location":"statusCode"
              },
               {
                "action": "include",
                "value": "module",
                "location":"body"
              },
              {
                "action": "include",
                "value": "testcase",
                "location":"body"
              },
              {
                "action": "include",
                "value": "method",
                "location":"body"
              }
            ]
          }
        ]
      },
      {
        "testCaseId":"PRX-TC04",
        "name" : "Make Proxy DELETE Call",
        "steps": [
          {
            "id": 1,
            "type": "hub-proxy-api",
            "params": {
              "action": "deleteResource"
             },
            "tests":[
              {
                "action": "equal",
                "value": 200
              }
            ]
          }
        ]
      },
      {
        "testCaseId": "PRX-TC05",
        "name" : "Make Proxy GET Call",
        "steps": [
          {
            "id": 1,
            "type": "hub-proxy-api",
            "params": {
              "action": "getOne"
             },
            "tests":[
              {
                "action": "equal",
                "value": 404,
                "location":"statusCode"
              },
              {
                "action": "include",
                "value": "error",
                "location":"body"
              }
            ]
          }
        ]
      },
       {
        "testCaseId": "PRX-TC06,PRX-TC09",
        "name" : "Make Proxy GET call for Resource with no Authoritative Resource Owner,Make Proxy GET call without Credentials",
        "steps": [
          {
            "id": 1,
            "type": "hub-proxy-api",
            "params": {
              "action": "getMany",
               "resource":"proxyAutomation"
             },
            "tests":[
              {
                "action": "equal",
                "value": 417,
                "location":"statusCode"
              },
               {
                "action": "include",
                "value": "error",
                "location":"body"
              }
            ]
          }
        ]
      },
      {
        "testCaseId": "PRX-TC07",
        "name" : "Make Proxy POST call with Extended URL Path",
        "steps": [
         {
            "id": 1,
            "type": "hub-proxy-api",
            "params": {
              "action": "post",
              "urlpath":"/api/subjects/1cbfa479-ad94-4b38-8e6e-24ec367078b3/apple"
             },
            "tests":[
              {
                "action": "equal",
                "value": 400
              }
            ]
          }
        ]
      },
      {
        "testCaseId": "PRX-TC08",
        "name" : "Make Proxy GET Call with Expired Token",
        "steps": [
          {
            "id": 1,
            "type": "hub-proxy-api",
            "params": {
              "action": "getManyWithExpiredToken",
              "resource":"subjects"
              },
            "tests":[
              {
                "action": "equal",
                "value": 401,
                "location":"statusCode"
              },
              {
                "action": "include",
                "value": "error",
                "location":"body"
              }
            ]
          }
        ]
      },
      {
        "testCaseId": "PRX-TC10",
        "name" : "Make Proxy PUT call with missing Content-Type in Header",
        "steps": [
          {
            "id": 1,
            "type": "hub-proxy-api",
            "params": {
              "action": "put",
              "contentType":""
             },
            "tests":[
              {
                "action": "equal",
                "value": 415,
                "location":"statusCode"
              },
              {
                "action": "include",
                "value": "error",
                "location":"body"
              }
            ]
          }
        ]
      },
      {
        "testCaseId": "PRX-TC11",
        "name" : "Make Proxy POST call with missing Authorization in Header",
        "steps": [
         {
            "id": 1,
            "type": "hub-proxy-api",
            "params": {
              "action": "postwithNoAuthorization"
             },
            "tests":[
              {
                "action": "equal",
                "value": 401
              }
            ]
          }
        ]
      }
    ]
}